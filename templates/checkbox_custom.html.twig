{% if readonly %}
    {% if prefilled_data[name] is defined and prefilled_data[name] is not empty %}
        <input id="{{ name }}_checkbox_custom" name="{{ name }}_checkbox" type="checkbox" checked disabled/>
        {% if label is defined %}<span class="readonly-label">{{ label }}: </span>{% endif %}
        <span class="readonly-input">{{ prefilled_data[name] }}</span>
    {% endif %}
{% else %}
    <input id="{{ name }}_checkbox_custom" name="{{ name }}_checkbox" type="checkbox"{% if prefilled_data[name] is defined and prefilled_data[name] is not empty %} checked{% endif %}{% if disabled is defined and disabled %} disabled{% endif %} onclick="if(!this.checked) { this.parentElement.querySelectorAll('#{{ name }}_checkbox_custom_text')[0].value = ''; }" autocomplete="off"/>
    {% if label is defined %}<label for="{{ name }}_checkbox_custom">{{ label }}</label>{% endif %}
    <input type="text" id="{{ name }}_checkbox_custom_text"{% if disabled is defined and disabled %} disabled{% endif %} oninput="this.parentElement.querySelectorAll('#{{ name }}_checkbox_custom')[0].checked = this.value !== '';{% if oninput is defined %} {{ oninput }}{% endif %}" name="{{ name }}" value="{% if prefilled_data[name] is defined and prefilled_data[name] is not empty %}{{ prefilled_data[name] }}{% endif %}" autocomplete="off"/>
{% endif %}
